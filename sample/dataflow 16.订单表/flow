{
  "parameters" : {
    "parameters" : { }
  },
  "initialNodes" : [ "ad1ccc73-6514-4708-b9a4-ae18502aa2f6", "e66f4fb0-0633-486e-97d4-09130a9c3341", "673bb633-eb35-48d1-9d02-2ce76b7e215b", "e530fcad-aeea-4998-a61e-0bf1f1e1a223", "e6dce21c-e1a7-400d-b2ba-ea1a28c74f76" ],
  "nodes" : {
    "ad1ccc73-6514-4708-b9a4-ae18502aa2f6" : {
      "nodeType" : ".v1.LoadSql",
      "name" : "e_vdata_contact ",
      "id" : "ad1ccc73-6514-4708-b9a4-ae18502aa2f6",
      "baseType" : "input",
      "nextNodes" : [ {
        "namespace" : "Default",
        "nextNodeId" : "995a53a8-d732-47ab-9024-b6721b241132",
        "nextNamespace" : "Default"
      } ],
      "serialize" : false,
      "description" : "删微数",
      "connectionId" : "b688372d-1ab9-414f-9e5b-e213bfb55643",
      "connectionAttributes" : {
        "dbname" : "voxadmin"
      },
      "fields" : [ {
        "name" : "name",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 1,
        "isGenerated" : false
      }, {
        "name" : "deletion_date",
        "type" : "date",
        "collation" : null,
        "caption" : "",
        "ordinal" : 2,
        "isGenerated" : false
      }, {
        "name" : "shuliang",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 3,
        "isGenerated" : false
      } ],
      "actions" : [ ],
      "debugModeRowLimit" : null,
      "originalDataTypes" : { },
      "randomSampling" : null,
      "updateTimestamp" : 1769913268786,
      "restrictedFields" : { },
      "userRenamedFields" : { },
      "selectedFields" : null,
      "samplingType" : null,
      "groupByFields" : null,
      "filters" : [ ],
      "relation" : {
        "type" : "query",
        "query" : "SELECT\n    B.name,\n    DATE(FROM_UNIXTIME(A.deletetime)) AS deletion_date,\n    COUNT(DISTINCT A.username) AS shuliang\nFROM\n    e_vdata_contact AS A\nINNER JOIN\n    e_account_organization AS B ON A.company = B.id\nWHERE\n   -- B.attr = 0    AND \nA.ClientType IN (4, 5)\n    -- 核心改动：将写死的日期替换为动态计算的近两年范围\n    AND A.deletetime >>= UNIX_TIMESTAMP(DATE_SUB(CURDATE(), INTERVAL 2 YEAR)) -- 时间范围起点：两年前的今天\n    AND A.deletetime <<= UNIX_TIMESTAMP(NOW())  -- 时间范围终点：当前时刻\nGROUP BY\n    B.name, deletion_date\nORDER BY\n    B.name, deletion_date"
      }
    },
    "ab60bfff-4717-4ff7-a9ca-6b97722a0afc" : {
      "nodeType" : ".v1.Container",
      "name" : "清理 4",
      "id" : "ab60bfff-4717-4ff7-a9ca-6b97722a0afc",
      "baseType" : "container",
      "nextNodes" : [ {
        "namespace" : "Default",
        "nextNodeId" : "d75e03e9-4726-46fd-8648-68a515378ffd",
        "nextNamespace" : "Left"
      } ],
      "serialize" : false,
      "description" : null,
      "loomContainer" : {
        "parameters" : {
          "parameters" : { }
        },
        "initialNodes" : [ "bd3db43a-494d-4497-855d-0aecae500ad2" ],
        "nodes" : {
          "bd3db43a-494d-4497-855d-0aecae500ad2" : {
            "nodeType" : ".v2019_2_2.KeepOnlyColumns",
            "name" : "只保留 order_id + 另外 4 个 1",
            "id" : "bd3db43a-494d-4497-855d-0aecae500ad2",
            "baseType" : "transform",
            "nextNodes" : [ ],
            "serialize" : false,
            "description" : null,
            "columnNames" : [ "order_id", "goods_id", "goods_name", "combo_id", "combo_name" ]
          }
        },
        "connections" : { },
        "dataConnections" : { },
        "connectionIds" : [ ],
        "dataConnectionIds" : [ ],
        "nodeProperties" : { },
        "extensibility" : null
      },
      "namespacesToInput" : {
        "Default" : {
          "nodeId" : "bd3db43a-494d-4497-855d-0aecae500ad2",
          "namespace" : "Default"
        }
      },
      "namespacesToOutput" : {
        "Default" : {
          "nodeId" : "bd3db43a-494d-4497-855d-0aecae500ad2",
          "namespace" : "Default"
        }
      },
      "providedParameters" : null
    },
    "e66f4fb0-0633-486e-97d4-09130a9c3341" : {
      "nodeType" : ".v1.LoadSql",
      "name" : "e_area_code",
      "id" : "e66f4fb0-0633-486e-97d4-09130a9c3341",
      "baseType" : "input",
      "nextNodes" : [ {
        "namespace" : "Default",
        "nextNodeId" : "8ed39aac-ac20-4d19-acb8-d047071a54fe",
        "nextNamespace" : "Default"
      } ],
      "serialize" : false,
      "description" : null,
      "connectionId" : "b688372d-1ab9-414f-9e5b-e213bfb55643",
      "connectionAttributes" : {
        "dbname" : "voxadmin"
      },
      "fields" : [ {
        "name" : "code",
        "type" : "real",
        "collation" : null,
        "caption" : "",
        "ordinal" : 1,
        "isGenerated" : false
      }, {
        "name" : "name",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 2,
        "isGenerated" : false
      }, {
        "name" : "level",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 3,
        "isGenerated" : false
      }, {
        "name" : "pcode",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 4,
        "isGenerated" : false
      }, {
        "name" : "express",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 5,
        "isGenerated" : false
      }, {
        "name" : "price",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 6,
        "isGenerated" : false
      }, {
        "name" : "collection",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 7,
        "isGenerated" : false
      }, {
        "name" : "restrict",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 8,
        "isGenerated" : false
      }, {
        "name" : "unreachable",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 9,
        "isGenerated" : false
      }, {
        "name" : "field1",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 10,
        "isGenerated" : false
      }, {
        "name" : "field2",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 11,
        "isGenerated" : false
      }, {
        "name" : "field3",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 12,
        "isGenerated" : false
      }, {
        "name" : "field4",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 13,
        "isGenerated" : false
      }, {
        "name" : "field5",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 14,
        "isGenerated" : false
      }, {
        "name" : "enable",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 15,
        "isGenerated" : false
      }, {
        "name" : "remark",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 16,
        "isGenerated" : false
      }, {
        "name" : "province",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 17,
        "isGenerated" : false
      }, {
        "name" : "city",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 18,
        "isGenerated" : false
      }, {
        "name" : "district",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 19,
        "isGenerated" : false
      }, {
        "name" : "town",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 20,
        "isGenerated" : false
      }, {
        "name" : "village",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 21,
        "isGenerated" : false
      } ],
      "actions" : [ ],
      "debugModeRowLimit" : 393216,
      "originalDataTypes" : { },
      "randomSampling" : null,
      "updateTimestamp" : 1769913270225,
      "restrictedFields" : { },
      "userRenamedFields" : { },
      "selectedFields" : null,
      "samplingType" : null,
      "groupByFields" : null,
      "filters" : [ ],
      "relation" : {
        "type" : "table",
        "table" : "[e_area_code]"
      }
    },
    "d75e03e9-4726-46fd-8648-68a515378ffd" : {
      "nodeType" : ".v2018_2_3.SuperJoin",
      "name" : "联接 4",
      "id" : "d75e03e9-4726-46fd-8648-68a515378ffd",
      "baseType" : "superNode",
      "nextNodes" : [ {
        "namespace" : "Default",
        "nextNodeId" : "343e1cf2-fc8e-45f2-8be3-ab5e170f4684",
        "nextNamespace" : "Default"
      } ],
      "serialize" : false,
      "description" : null,
      "beforeActionAnnotations" : [ ],
      "afterActionAnnotations" : [ ],
      "actionNode" : {
        "nodeType" : ".v1.SimpleJoin",
        "name" : "联接 4",
        "id" : "0012fb3c-bed6-45d3-b6d2-77b644405310",
        "baseType" : "transform",
        "nextNodes" : [ ],
        "serialize" : false,
        "description" : null,
        "conditions" : [ {
          "leftExpression" : "[order_id]",
          "rightExpression" : "[订单ID]",
          "comparator" : "=="
        } ],
        "joinType" : "right"
      }
    },
    "a4b8ae96-9d53-47b8-97d0-fe9b97be9d96" : {
      "nodeType" : ".v1.Container",
      "name" : "清理 4",
      "id" : "a4b8ae96-9d53-47b8-97d0-fe9b97be9d96",
      "baseType" : "container",
      "nextNodes" : [ ],
      "serialize" : false,
      "description" : null,
      "loomContainer" : {
        "parameters" : {
          "parameters" : { }
        },
        "initialNodes" : [ ],
        "nodes" : { },
        "connections" : { },
        "dataConnections" : { },
        "connectionIds" : [ ],
        "dataConnectionIds" : [ ],
        "nodeProperties" : { },
        "extensibility" : null
      },
      "namespacesToInput" : { },
      "namespacesToOutput" : { },
      "providedParameters" : null
    },
    "4e826d3c-b3ee-4bad-8876-cf6362e12030" : {
      "nodeType" : ".v2018_2_3.SuperJoin",
      "name" : "订单+地区",
      "id" : "4e826d3c-b3ee-4bad-8876-cf6362e12030",
      "baseType" : "superNode",
      "nextNodes" : [ {
        "namespace" : "Default",
        "nextNodeId" : "46240063-aa4f-44c2-bb7c-89b910ddd1f9",
        "nextNamespace" : "Left"
      } ],
      "serialize" : false,
      "description" : null,
      "beforeActionAnnotations" : [ {
        "namespace" : "Left",
        "annotationNode" : {
          "nodeType" : ".v1.RenameColumn",
          "columnName" : "地区name",
          "rename" : "省",
          "name" : "将 地区name 重命名为 省 1",
          "id" : "5c3934d2-33b7-4f13-ba57-ab59302b2bc5",
          "baseType" : "transform",
          "nextNodes" : [ ],
          "serialize" : false,
          "description" : null
        }
      }, {
        "namespace" : "Left",
        "annotationNode" : {
          "nodeType" : ".v2019_3_1.ChangeSemanticRole",
          "columnName" : "省",
          "semanticRole" : {
            "id" : "global/geo/state",
            "name" : "state",
            "serverUrl" : null,
            "siteName" : null,
            "detailsUrl" : null
          },
          "name" : "change 省 to state 1",
          "id" : "57778478-ea57-46fe-8305-369c471ae2cd",
          "baseType" : "transform",
          "nextNodes" : [ ],
          "serialize" : false,
          "description" : null
        }
      } ],
      "afterActionAnnotations" : [ ],
      "actionNode" : {
        "nodeType" : ".v1.SimpleJoin",
        "name" : "联接 4",
        "id" : "369ae100-5eb4-4b81-9504-1ec1b77d8cf8",
        "baseType" : "transform",
        "nextNodes" : [ ],
        "serialize" : false,
        "description" : null,
        "conditions" : [ {
          "leftExpression" : "[地区code]",
          "rightExpression" : "[province]",
          "comparator" : "=="
        } ],
        "joinType" : "right"
      }
    },
    "673bb633-eb35-48d1-9d02-2ce76b7e215b" : {
      "nodeType" : ".v1.LoadSql",
      "name" : "bi_e_admin",
      "id" : "673bb633-eb35-48d1-9d02-2ce76b7e215b",
      "baseType" : "input",
      "nextNodes" : [ {
        "namespace" : "Default",
        "nextNodeId" : "46240063-aa4f-44c2-bb7c-89b910ddd1f9",
        "nextNamespace" : "Right"
      }, {
        "namespace" : "Default",
        "nextNodeId" : "a4b8ae96-9d53-47b8-97d0-fe9b97be9d96",
        "nextNamespace" : "Default"
      } ],
      "serialize" : false,
      "description" : null,
      "connectionId" : "b688372d-1ab9-414f-9e5b-e213bfb55643",
      "connectionAttributes" : {
        "dbname" : "voxadmin"
      },
      "fields" : [ {
        "name" : "id",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 1,
        "isGenerated" : false
      }, {
        "name" : "username",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 2,
        "isGenerated" : false
      }, {
        "name" : "number",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 3,
        "isGenerated" : false
      }, {
        "name" : "gender",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 4,
        "isGenerated" : false
      }, {
        "name" : "age",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 5,
        "isGenerated" : false
      }, {
        "name" : "education",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 6,
        "isGenerated" : false
      }, {
        "name" : "marital",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 7,
        "isGenerated" : false
      }, {
        "name" : "role_group",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 8,
        "isGenerated" : false
      }, {
        "name" : "job_status",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 9,
        "isGenerated" : false
      }, {
        "name" : "entry_time",
        "type" : "date",
        "collation" : null,
        "caption" : "",
        "ordinal" : 10,
        "isGenerated" : false
      }, {
        "name" : "leave_time",
        "type" : "date",
        "collation" : null,
        "caption" : "",
        "ordinal" : 11,
        "isGenerated" : false
      }, {
        "name" : "work_days",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 12,
        "isGenerated" : false
      }, {
        "name" : "self_type",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 13,
        "isGenerated" : false
      }, {
        "name" : "filialeid",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 14,
        "isGenerated" : false
      }, {
        "name" : "filialename",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 15,
        "isGenerated" : false
      }, {
        "name" : "departmentid",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 16,
        "isGenerated" : false
      }, {
        "name" : "departmentname",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 17,
        "isGenerated" : false
      }, {
        "name" : "groupid",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 18,
        "isGenerated" : false
      }, {
        "name" : "groupname",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 19,
        "isGenerated" : false
      }, {
        "name" : "admin_status",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 20,
        "isGenerated" : false
      }, {
        "name" : "last_updated_at",
        "type" : "datetime",
        "collation" : null,
        "caption" : "",
        "ordinal" : 21,
        "isGenerated" : false
      } ],
      "actions" : [ ],
      "debugModeRowLimit" : 393216,
      "originalDataTypes" : { },
      "randomSampling" : null,
      "updateTimestamp" : 1769913273245,
      "restrictedFields" : { },
      "userRenamedFields" : { },
      "selectedFields" : null,
      "samplingType" : null,
      "groupByFields" : null,
      "filters" : [ ],
      "relation" : {
        "type" : "table",
        "table" : "[bi_e_admin]"
      }
    },
    "46240063-aa4f-44c2-bb7c-89b910ddd1f9" : {
      "nodeType" : ".v2018_2_3.SuperJoin",
      "name" : "订单+员工",
      "id" : "46240063-aa4f-44c2-bb7c-89b910ddd1f9",
      "baseType" : "superNode",
      "nextNodes" : [ {
        "namespace" : "Default",
        "nextNodeId" : "d75e03e9-4726-46fd-8648-68a515378ffd",
        "nextNamespace" : "Right"
      } ],
      "serialize" : false,
      "description" : "取公司名",
      "beforeActionAnnotations" : [ {
        "namespace" : "Right",
        "annotationNode" : {
          "nodeType" : ".v1.RenameColumn",
          "columnName" : "filialename",
          "rename" : "分公司",
          "name" : "将 filialename 重命名为 分公司 1",
          "id" : "6eef58a3-4f62-40f3-b06b-7364a2996ebd",
          "baseType" : "transform",
          "nextNodes" : [ ],
          "serialize" : false,
          "description" : null
        }
      }, {
        "namespace" : "Left",
        "annotationNode" : {
          "nodeType" : ".v1.RenameColumn",
          "columnName" : "下单日期",
          "rename" : "日期",
          "name" : "将 下单日期 重命名为 日期 1",
          "id" : "c0956788-933c-4284-916f-105e4c6a8160",
          "baseType" : "transform",
          "nextNodes" : [ ],
          "serialize" : false,
          "description" : null
        }
      } ],
      "afterActionAnnotations" : [ {
        "namespace" : "Default",
        "annotationNode" : {
          "nodeType" : ".v1.FilterOperation",
          "name" : "筛选器",
          "id" : "13610ffd-92f6-4011-a387-6d879f3db9ec",
          "baseType" : "transform",
          "nextNodes" : [ ],
          "serialize" : false,
          "description" : null,
          "filterExpression" : "NOT (\n    (\n        [分公司] == \"总部外呼业务部\"\n        OR [分公司] == \"总部定制酒招商\"\n        OR [分公司] == \"总部招商\"\n        OR [分公司] == \"总部新媒体\"\n        OR [分公司] == \"总部私域团队\"\n        OR [分公司] == \"总部行政\"\n        OR [分公司] == \"四川创泽团队\"\n        OR [分公司] == \"深圳新媒体\"\n        OR [分公司] == \"招商部\"\n        OR [分公司] == \"长沙分公司\"\n        OR [分公司] == \"王拂晓团队\"\n    )\n    AND NOT (ISNULL([分公司]))\n)\n"
        }
      }, {
        "namespace" : "Default",
        "annotationNode" : {
          "nodeType" : ".v1.AddColumn",
          "columnName" : "是否有效天（当天营业额>99）",
          "expression" : "IF [订单营业额] > 99 THEN 1 ELSE 0 END",
          "name" : "Add 是否有效天（当天营业额>99）",
          "id" : "ac2aa249-df35-4c03-b251-777322ddd168",
          "baseType" : "transform",
          "nextNodes" : [ ],
          "serialize" : false,
          "description" : null
        }
      }, {
        "namespace" : "Default",
        "annotationNode" : {
          "nodeType" : ".v1.AddColumn",
          "columnName" : "签收营业额",
          "expression" : "IF [status] = 4 OR [status] = 6 THEN [订单营业额] ELSE 0 END",
          "name" : "Add 签收营业额",
          "id" : "68e7c984-d29e-4138-a5b9-9db2f7ad946e",
          "baseType" : "transform",
          "nextNodes" : [ ],
          "serialize" : false,
          "description" : null
        }
      }, {
        "namespace" : "Default",
        "annotationNode" : {
          "nodeType" : ".v1.AddColumn",
          "columnName" : "是否签收有效天（当天签收额>99）",
          "expression" : "IF [签收营业额] > 99 THEN 1 ELSE 0 END",
          "name" : "Add 是否签收有效天（当天签收额>99）",
          "id" : "e2f56a89-3e16-4951-a5c4-b557bc83a986",
          "baseType" : "transform",
          "nextNodes" : [ ],
          "serialize" : false,
          "description" : null
        }
      } ],
      "actionNode" : {
        "nodeType" : ".v1.SimpleJoin",
        "name" : "联接 3",
        "id" : "a82d5bdb-b05f-4bc0-b638-e4882954d6d8",
        "baseType" : "transform",
        "nextNodes" : [ ],
        "serialize" : false,
        "description" : null,
        "conditions" : [ {
          "leftExpression" : "[员工ID]",
          "rightExpression" : "[id]",
          "comparator" : "=="
        } ],
        "joinType" : "left"
      }
    },
    "8ed39aac-ac20-4d19-acb8-d047071a54fe" : {
      "nodeType" : ".v1.Container",
      "name" : "清理 4",
      "id" : "8ed39aac-ac20-4d19-acb8-d047071a54fe",
      "baseType" : "container",
      "nextNodes" : [ {
        "namespace" : "Default",
        "nextNodeId" : "4e826d3c-b3ee-4bad-8876-cf6362e12030",
        "nextNamespace" : "Left"
      } ],
      "serialize" : false,
      "description" : null,
      "loomContainer" : {
        "parameters" : {
          "parameters" : { }
        },
        "initialNodes" : [ "5ff513d3-dbd5-410a-ad32-b81551f32435" ],
        "nodes" : {
          "aa58b2fa-3bda-47ec-9b74-810dd2821871" : {
            "nodeType" : ".v1.ValueFilter",
            "name" : "只保留 level:1 1",
            "id" : "aa58b2fa-3bda-47ec-9b74-810dd2821871",
            "baseType" : "transform",
            "nextNodes" : [ {
              "namespace" : "Default",
              "nextNodeId" : "80289c21-8845-4bb2-a5da-a29f5b6c21e0",
              "nextNamespace" : "Default"
            } ],
            "serialize" : false,
            "description" : null,
            "exclude" : false,
            "values" : {
              "level" : [ "1" ]
            }
          },
          "a5d449d4-762a-44cd-875c-14c48372865a" : {
            "nodeType" : ".v1.RenameColumn",
            "columnName" : "code",
            "rename" : "地区code",
            "name" : "将 code 重命名为 地区code 1",
            "id" : "a5d449d4-762a-44cd-875c-14c48372865a",
            "baseType" : "transform",
            "nextNodes" : [ {
              "namespace" : "Default",
              "nextNodeId" : "811e42e8-bc81-452a-9702-a5ee0abd7f7b",
              "nextNamespace" : "Default"
            } ],
            "serialize" : false,
            "description" : null
          },
          "811e42e8-bc81-452a-9702-a5ee0abd7f7b" : {
            "nodeType" : ".v1.RenameColumn",
            "columnName" : "name",
            "rename" : "地区name",
            "name" : "将 name 重命名为 地区name 1",
            "id" : "811e42e8-bc81-452a-9702-a5ee0abd7f7b",
            "baseType" : "transform",
            "nextNodes" : [ ],
            "serialize" : false,
            "description" : null
          },
          "80289c21-8845-4bb2-a5da-a29f5b6c21e0" : {
            "nodeType" : ".v2019_2_2.KeepOnlyColumns",
            "name" : "只保留 code + 另外 1 个 1",
            "id" : "80289c21-8845-4bb2-a5da-a29f5b6c21e0",
            "baseType" : "transform",
            "nextNodes" : [ {
              "namespace" : "Default",
              "nextNodeId" : "a5d449d4-762a-44cd-875c-14c48372865a",
              "nextNamespace" : "Default"
            } ],
            "serialize" : false,
            "description" : null,
            "columnNames" : [ "code", "name" ]
          },
          "5ff513d3-dbd5-410a-ad32-b81551f32435" : {
            "nodeType" : ".v1.ValueFilter",
            "name" : "只保留 level:多个 1",
            "id" : "5ff513d3-dbd5-410a-ad32-b81551f32435",
            "baseType" : "transform",
            "nextNodes" : [ {
              "namespace" : "Default",
              "nextNodeId" : "aa58b2fa-3bda-47ec-9b74-810dd2821871",
              "nextNamespace" : "Default"
            } ],
            "serialize" : false,
            "description" : null,
            "exclude" : false,
            "values" : {
              "level" : [ "1", "2" ]
            }
          }
        },
        "connections" : { },
        "dataConnections" : { },
        "connectionIds" : [ ],
        "dataConnectionIds" : [ ],
        "nodeProperties" : { },
        "extensibility" : null
      },
      "namespacesToInput" : {
        "Default" : {
          "nodeId" : "5ff513d3-dbd5-410a-ad32-b81551f32435",
          "namespace" : "Default"
        }
      },
      "namespacesToOutput" : {
        "Default" : {
          "nodeId" : "811e42e8-bc81-452a-9702-a5ee0abd7f7b",
          "namespace" : "Default"
        }
      },
      "providedParameters" : null
    },
    "e530fcad-aeea-4998-a61e-0bf1f1e1a223" : {
      "nodeType" : ".v1.LoadSql",
      "name" : "e_product_order_list",
      "id" : "e530fcad-aeea-4998-a61e-0bf1f1e1a223",
      "baseType" : "input",
      "nextNodes" : [ {
        "namespace" : "Default",
        "nextNodeId" : "4e826d3c-b3ee-4bad-8876-cf6362e12030",
        "nextNamespace" : "Right"
      } ],
      "serialize" : false,
      "description" : null,
      "connectionId" : "b688372d-1ab9-414f-9e5b-e213bfb55643",
      "connectionAttributes" : {
        "dbname" : "voxadmin"
      },
      "fields" : [ {
        "name" : "客户ID",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 1,
        "isGenerated" : false
      }, {
        "name" : "订单oid",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 2,
        "isGenerated" : false
      }, {
        "name" : "加微状态",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 3,
        "isGenerated" : false
      }, {
        "name" : "订单状态",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 4,
        "isGenerated" : false
      }, {
        "name" : "公司ID",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 5,
        "isGenerated" : false
      }, {
        "name" : "订单ID",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 6,
        "isGenerated" : false
      }, {
        "name" : "员工ID",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 7,
        "isGenerated" : false
      }, {
        "name" : "用户ID",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 8,
        "isGenerated" : false
      }, {
        "name" : "套餐名",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 9,
        "isGenerated" : false
      }, {
        "name" : "下单时间",
        "type" : "datetime",
        "collation" : null,
        "caption" : "",
        "ordinal" : 10,
        "isGenerated" : false
      }, {
        "name" : "员工编码",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 11,
        "isGenerated" : false
      }, {
        "name" : "下单日期",
        "type" : "date",
        "collation" : null,
        "caption" : "",
        "ordinal" : 12,
        "isGenerated" : false
      }, {
        "name" : "订单号",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 13,
        "isGenerated" : false
      }, {
        "name" : "客户名",
        "type" : "string",
        "collation" : "LROOT_S2",
        "caption" : "",
        "ordinal" : 14,
        "isGenerated" : false
      }, {
        "name" : "订单营业额",
        "type" : "real",
        "collation" : null,
        "caption" : "",
        "ordinal" : 15,
        "isGenerated" : false
      }, {
        "name" : "province",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 16,
        "isGenerated" : false
      }, {
        "name" : "status",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 17,
        "isGenerated" : false
      } ],
      "actions" : [ ],
      "debugModeRowLimit" : null,
      "originalDataTypes" : { },
      "randomSampling" : null,
      "updateTimestamp" : 1769913274503,
      "restrictedFields" : { },
      "userRenamedFields" : { },
      "selectedFields" : null,
      "samplingType" : null,
      "groupByFields" : null,
      "filters" : [ ],
      "relation" : {
        "type" : "query",
        "query" : "SELECT o.user_id                                                                AS 客户ID,\n       o.oid                                                                    AS 订单oid,\n       o.wechat_add                                                             AS 加微状态,\n       o.status                                                                 AS 订单状态,\n       o.company_id                                                             AS 公司ID,\n       o.id                                                                     AS 订单ID,\n       o.acc                                                                    AS 员工ID,\n       o.user_id                                                                AS 用户ID,\n       o.combo                                                                  AS 套餐名,\n       FROM_UNIXTIME(o.check_time)                                              AS 下单时间,\n       o.acc_number                                                             AS 员工编码,\n       DATE(FROM_UNIXTIME(o.check_time))                                        AS 下单日期,\n       o.order_sn                                                               AS 订单号,\n       o.name                                                                   AS 客户名,\n       o.total_price / 1000000 + o.raise_price / 1000000 - o.discount / 1000000 AS 订单营业额,\n       o.province,\n       o.status\nFROM e_product_order_list o\nWHERE o.check_time >>= UNIX_TIMESTAMP(DATE_SUB(CURDATE(), INTERVAL 3.5 YEAR))\n  AND trash = 0\n  AND is_self_buy = 0\n -- AND status IN (2, 3, 4, 5, 6, 7, 8, 10, 11, 14, 15, 16, 17)"
      }
    },
    "343e1cf2-fc8e-45f2-8be3-ab5e170f4684" : {
      "nodeType" : ".v1.PublishExtract",
      "name" : "dataflow 16.订单表",
      "id" : "343e1cf2-fc8e-45f2-8be3-ab5e170f4684",
      "baseType" : "output",
      "nextNodes" : [ ],
      "serialize" : false,
      "description" : null,
      "projectName" : "数据源",
      "projectLuid" : "7fa01ebc-72f4-4fd0-a27f-f8ac1e30ac20",
      "datasourceName" : "data 16.订单表",
      "datasourceDescription" : "",
      "serverUrl" : "http://win-picvs30bivi"
    },
    "995a53a8-d732-47ab-9024-b6721b241132" : {
      "nodeType" : ".v1.Container",
      "name" : "清理 7",
      "id" : "995a53a8-d732-47ab-9024-b6721b241132",
      "baseType" : "container",
      "nextNodes" : [ ],
      "serialize" : false,
      "description" : null,
      "loomContainer" : {
        "parameters" : {
          "parameters" : { }
        },
        "initialNodes" : [ "69889267-afa6-4472-839e-a6f9c4184308" ],
        "nodes" : {
          "06cf7877-a8c4-4293-82d1-9ceefcc97bb5" : {
            "nodeType" : ".v1.RenameColumn",
            "columnName" : "删除日期",
            "rename" : "日期",
            "name" : "将 删除日期 重命名为 日期 1",
            "id" : "06cf7877-a8c4-4293-82d1-9ceefcc97bb5",
            "baseType" : "transform",
            "nextNodes" : [ ],
            "serialize" : false,
            "description" : null
          },
          "69889267-afa6-4472-839e-a6f9c4184308" : {
            "nodeType" : ".v1.RenameColumn",
            "columnName" : "deletion_date",
            "rename" : "删除日期",
            "name" : "将 deletion_date 重命名为 删除日期 1",
            "id" : "69889267-afa6-4472-839e-a6f9c4184308",
            "baseType" : "transform",
            "nextNodes" : [ {
              "namespace" : "Default",
              "nextNodeId" : "89448fe0-425d-4968-a19c-198f27e2d890",
              "nextNamespace" : "Default"
            } ],
            "serialize" : false,
            "description" : null
          },
          "01c2c97a-15c5-4e89-bd3b-94f7430c1f5f" : {
            "nodeType" : ".v1.RenameColumn",
            "columnName" : "name",
            "rename" : "分公司",
            "name" : "将 name 重命名为 分公司 1",
            "id" : "01c2c97a-15c5-4e89-bd3b-94f7430c1f5f",
            "baseType" : "transform",
            "nextNodes" : [ {
              "namespace" : "Default",
              "nextNodeId" : "06cf7877-a8c4-4293-82d1-9ceefcc97bb5",
              "nextNamespace" : "Default"
            } ],
            "serialize" : false,
            "description" : null
          },
          "89448fe0-425d-4968-a19c-198f27e2d890" : {
            "nodeType" : ".v1.RenameColumn",
            "columnName" : "shuliang",
            "rename" : "删微数",
            "name" : "将 shuliang 重命名为 删微数 1",
            "id" : "89448fe0-425d-4968-a19c-198f27e2d890",
            "baseType" : "transform",
            "nextNodes" : [ {
              "namespace" : "Default",
              "nextNodeId" : "01c2c97a-15c5-4e89-bd3b-94f7430c1f5f",
              "nextNamespace" : "Default"
            } ],
            "serialize" : false,
            "description" : null
          }
        },
        "connections" : { },
        "dataConnections" : { },
        "connectionIds" : [ ],
        "dataConnectionIds" : [ ],
        "nodeProperties" : { },
        "extensibility" : null
      },
      "namespacesToInput" : {
        "Default" : {
          "nodeId" : "69889267-afa6-4472-839e-a6f9c4184308",
          "namespace" : "Default"
        }
      },
      "namespacesToOutput" : {
        "Default" : {
          "nodeId" : "06cf7877-a8c4-4293-82d1-9ceefcc97bb5",
          "namespace" : "Default"
        }
      },
      "providedParameters" : null
    },
    "e6dce21c-e1a7-400d-b2ba-ea1a28c74f76" : {
      "nodeType" : ".v2019_3_1.LoadSqlProxy",
      "name" : "e_order_product (数据源)",
      "id" : "e6dce21c-e1a7-400d-b2ba-ea1a28c74f76",
      "baseType" : "input",
      "nextNodes" : [ {
        "namespace" : "Default",
        "nextNodeId" : "ab60bfff-4717-4ff7-a9ca-6b97722a0afc",
        "nextNamespace" : "Default"
      } ],
      "serialize" : false,
      "description" : null,
      "connectionId" : "497f0aa4-af6d-48ba-a5fd-08a40a7710eb",
      "connectionAttributes" : {
        "dbname" : "e_order_product",
        "projectName" : "数据源",
        "datasourceName" : "e_order_product"
      },
      "fields" : [ {
        "name" : "activityId",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 23,
        "isGenerated" : false
      }, {
        "name" : "activityName",
        "type" : "string",
        "collation" : "binary",
        "caption" : "",
        "ordinal" : 22,
        "isGenerated" : false
      }, {
        "name" : "area",
        "type" : "string",
        "collation" : "binary",
        "caption" : "",
        "ordinal" : 18,
        "isGenerated" : false
      }, {
        "name" : "area_limit",
        "type" : "string",
        "collation" : "binary",
        "caption" : "",
        "ordinal" : 17,
        "isGenerated" : false
      }, {
        "name" : "bottle",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 7,
        "isGenerated" : false
      }, {
        "name" : "combo_id",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 4,
        "isGenerated" : false
      }, {
        "name" : "combo_name",
        "type" : "string",
        "collation" : "binary",
        "caption" : "",
        "ordinal" : 5,
        "isGenerated" : false
      }, {
        "name" : "combo_type",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 1,
        "isGenerated" : false
      }, {
        "name" : "createtime",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 20,
        "isGenerated" : false
      }, {
        "name" : "discount",
        "type" : "real",
        "collation" : null,
        "caption" : "",
        "ordinal" : 11,
        "isGenerated" : false
      }, {
        "name" : "goods_id",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 2,
        "isGenerated" : false
      }, {
        "name" : "goods_name",
        "type" : "string",
        "collation" : "binary",
        "caption" : "",
        "ordinal" : 3,
        "isGenerated" : false
      }, {
        "name" : "image",
        "type" : "string",
        "collation" : "binary",
        "caption" : "",
        "ordinal" : 14,
        "isGenerated" : false
      }, {
        "name" : "label",
        "type" : "string",
        "collation" : "binary",
        "caption" : "",
        "ordinal" : 15,
        "isGenerated" : false
      }, {
        "name" : "level",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 16,
        "isGenerated" : false
      }, {
        "name" : "number",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 6,
        "isGenerated" : false
      }, {
        "name" : "order_id",
        "type" : "real",
        "collation" : null,
        "caption" : "",
        "ordinal" : 0,
        "isGenerated" : false
      }, {
        "name" : "price",
        "type" : "real",
        "collation" : null,
        "caption" : "",
        "ordinal" : 8,
        "isGenerated" : false
      }, {
        "name" : "product_no",
        "type" : "string",
        "collation" : "binary",
        "caption" : "",
        "ordinal" : 13,
        "isGenerated" : false
      }, {
        "name" : "settlement",
        "type" : "string",
        "collation" : "binary",
        "caption" : "",
        "ordinal" : 25,
        "isGenerated" : false
      }, {
        "name" : "stock",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 10,
        "isGenerated" : false
      }, {
        "name" : "total_price",
        "type" : "real",
        "collation" : null,
        "caption" : "",
        "ordinal" : 9,
        "isGenerated" : false
      }, {
        "name" : "unit",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 12,
        "isGenerated" : false
      }, {
        "name" : "updatetime",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 21,
        "isGenerated" : false
      }, {
        "name" : "usefor",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 26,
        "isGenerated" : false
      }, {
        "name" : "version",
        "type" : "integer",
        "collation" : null,
        "caption" : "",
        "ordinal" : 24,
        "isGenerated" : false
      }, {
        "name" : "warehouse",
        "type" : "string",
        "collation" : "binary",
        "caption" : "",
        "ordinal" : 19,
        "isGenerated" : false
      } ],
      "actions" : [ ],
      "debugModeRowLimit" : 393216,
      "originalDataTypes" : { },
      "randomSampling" : null,
      "updateTimestamp" : 1769913254232,
      "restrictedFields" : { },
      "userRenamedFields" : { },
      "selectedFields" : null,
      "samplingType" : null,
      "groupByFields" : null,
      "filters" : [ ],
      "relation" : {
        "type" : "table",
        "table" : "[sqlproxy]"
      }
    }
  },
  "connections" : {
    "b688372d-1ab9-414f-9e5b-e213bfb55643" : {
      "connectionType" : ".v1.SqlConnection",
      "id" : "b688372d-1ab9-414f-9e5b-e213bfb55643",
      "name" : "rm-uf661w842h18w326nvo.mysql.rds.aliyuncs.com",
      "isPackaged" : false,
      "connectionAttributes" : {
        "sslmode" : "",
        "odbc-connect-string-extras" : "",
        "server" : "rm-uf661w842h18w326nvo.mysql.rds.aliyuncs.com",
        "prep-protocol-role" : ":prep-protocol-reader",
        ":flow-name" : "流程 1",
        "odbc-dbms-name" : "",
        "workgroup-auth-mode" : "",
        "use-allowlist" : "false",
        "site" : "1",
        "dbname" : "",
        "port" : "3306",
        ":protocol-customizations" : "",
        "source-charset" : "",
        "sslcert" : "",
        "one-time-sql" : "",
        "odbc-native-protocol" : "",
        "class" : "mysql",
        "expected-driver-version" : "",
        "authentication" : "",
        "username" : "link_BI"
      }
    },
    "497f0aa4-af6d-48ba-a5fd-08a40a7710eb" : {
      "connectionType" : ".v1.SqlConnection",
      "id" : "497f0aa4-af6d-48ba-a5fd-08a40a7710eb",
      "name" : "http://win-picvs30bivi (Default)",
      "isPackaged" : false,
      "connectionAttributes" : {
        "server" : "http://win-picvs30bivi",
        "port" : "80",
        "query-category" : "Data",
        "siteUrlName" : "",
        "channel" : "http",
        "class" : "sqlproxy",
        "directory" : "/dataserver",
        "odbc-native-protocol" : "yes"
      }
    }
  },
  "dataConnections" : { },
  "connectionIds" : [ "b688372d-1ab9-414f-9e5b-e213bfb55643", "497f0aa4-af6d-48ba-a5fd-08a40a7710eb" ],
  "dataConnectionIds" : [ ],
  "nodeProperties" : {
    "4e826d3c-b3ee-4bad-8876-cf6362e12030" : {
      "com.tableau.loom.doc.fileformat.v2019_1_3.PrimaryKey" : {
        "nodePropertyType" : ".v2019_1_3.PrimaryKey",
        "empty" : false,
        "fieldNames" : [ "地区code", "组织表id" ]
      }
    },
    "ad1ccc73-6514-4708-b9a4-ae18502aa2f6" : { },
    "673bb633-eb35-48d1-9d02-2ce76b7e215b" : {
      "com.tableau.loom.doc.fileformat.v2019_1_3.PrimaryKey" : {
        "nodePropertyType" : ".v2019_1_3.PrimaryKey",
        "empty" : false,
        "fieldNames" : [ "id" ]
      }
    },
    "46240063-aa4f-44c2-bb7c-89b910ddd1f9" : {
      "com.tableau.loom.doc.fileformat.v2019_1_3.PrimaryKey" : {
        "nodePropertyType" : ".v2019_1_3.PrimaryKey",
        "empty" : true,
        "fieldNames" : [ ]
      }
    },
    "e66f4fb0-0633-486e-97d4-09130a9c3341" : {
      "com.tableau.loom.doc.fileformat.v2019_1_3.PrimaryKey" : {
        "nodePropertyType" : ".v2019_1_3.PrimaryKey",
        "empty" : false,
        "fieldNames" : [ "code" ]
      }
    },
    "d75e03e9-4726-46fd-8648-68a515378ffd" : {
      "com.tableau.loom.doc.fileformat.v2019_1_3.PrimaryKey" : {
        "nodePropertyType" : ".v2019_1_3.PrimaryKey",
        "empty" : false,
        "fieldNames" : [ "地区code", "员工表id", "组织表id" ]
      }
    },
    "a4b8ae96-9d53-47b8-97d0-fe9b97be9d96" : {
      "com.tableau.loom.doc.fileformat.v2019_1_3.PrimaryKey" : {
        "nodePropertyType" : ".v2019_1_3.PrimaryKey",
        "empty" : false,
        "fieldNames" : [ "id" ]
      }
    },
    "8ed39aac-ac20-4d19-acb8-d047071a54fe" : {
      "com.tableau.loom.doc.fileformat.v2019_1_3.PrimaryKey" : {
        "nodePropertyType" : ".v2019_1_3.PrimaryKey",
        "empty" : false,
        "fieldNames" : [ "code" ]
      }
    },
    "e530fcad-aeea-4998-a61e-0bf1f1e1a223" : { },
    "e6dce21c-e1a7-400d-b2ba-ea1a28c74f76" : { }
  },
  "extensibility" : { },
  "selection" : [ ],
  "majorVersion" : 1,
  "minorVersion" : 4,
  "documentId" : "b2879423-2bfb-4c2f-b6c0-4c2c566f8b23",
  "obfuscatorId" : "1c77a93d-f670-4468-9d7b-047b11586f80"
}